<h1>Add Recipe</h1>

<div class="container">
    <div class="row justify-content-end">
        <div id="kcal_info" class="btn btn-outline-secondary col-2">0 kcal</div>
        <div class="col-1">&nbsp;</div>
    </div>
</div>
@using (Html.BeginForm("Add", "Recipes", FormMethod.Post))
{
    <div>
        <div class="container">
            <div class="row">
                <div class="col-9">
                    <input name="id" type="hidden" value="" class="form-control" />
                    <input name="name" type="text" value="" class="form-control" />
                </div>
            </div>
        </div>
    </div>
    <table id="ingredients_table" class="table">
        <thead>
            <tr>
                <th scope="col">Nazwa</th>
                <th scope="col">Ilość</th>
                <th scope="col">Kalorie</th>
                <th scope="col">Actions</th>
            </tr>
        </thead>
        <tbody id="ingredients_table_body" >
            @*<tr id="empty_row">
                        <td id="name_cell">&nbsp;</td>
                        <td id="amount_cell">&nbsp;</td>
                        <td id="energy_cell">&nbsp;</td>
                        <td><button class="btn btn-danger small_button">Delete</button></td>
                    </tr>
                </tbody>*@
            <tr id="newProductRow">
                <td>
                    <select id="available_products" name="ingredients[0].Product.Id" class="form-control" onchange="update_kcals()">
                        @foreach (var option in ViewBag.products)
                        {
                            <option value="@option.Id" data="@option.Energy">@option.Name</option>
                        }
                    </select>
                </td>
                <td>
                    @*<input name="modelId" type="hidden" value="@Model.Id"/>*@
                    <input id="weight_in_grams" name="ingredients[0].Ammount" type="number" value="" oninput="update_kcals()" class="form-control" />
                </td>
                <td>
                    <input id="kcals" name="kcals" type="number" value="" disabled class="form-control" />
                </td>
                <td></td>
            </tr>
        </tbody>
    </table>
    <button id="add_ingredient_button" class="btn btn-primary small_button" type="button" onclick="addIngredientRow()">Add Ingredient</button>
    <div class="container">
        <div class="row">
            <div class="col-9">
                <textarea name="instructions" class="form-control"></textarea>
            </div>
        </div>
    </div>
    <div>&nbsp;</div>
    <div>
        <input type="submit" value="Submit" class="btn btn-outline-primary small_button float-right" />
    </div>
    <div>&nbsp;</div>
}
<script src="~/js/recipes_add.js"></script>
